<!--https://knockoutjs.com/documentation/observables.html-->
<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Princ√≠pios Knockout JS</title>
</head>
<body>
    <span>The name is <span data-bind="text: personName"></span></span>
    <footer>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.0/knockout-min.js" type="text/javascript"></script>
            <script type="text/javascript">
                var myViewlModel = {
                    personName: ko.observable('Bob'),
                    personAge: ko.observable(123)
                }
                
                /* This advanced technique for working with observables was added in Knockout 3.5.
                 * 
                 * Sometimes, rather than reacting to every change to an observable, you just
                 * need to know when the observable arrives at a specific value. This is what
                 * 'ko.when' makes easy.
                 */

                ko.when(function(){
                    return myViewlModel.personName() === 'Thadeu';
                }, function(result){
                    console.log("meu nome :D! Haha");
                });

                /* 'ko.when' waits the first function (predicate) returns true or a true-ish value,
                 * at which time it runs the second function (callback), passing the 'predicate' result.
                 * You can optionally pass in a third parameter (context) that defines the value of 'this'
                 * for the predicate and callback functions. 
                 * 'ko.when' returns a 'subscription' object that you can use the cancel the action.
                 * 
                 * 'ko.when' can also be called with just the 'predicate' function. In that case, it
                 *  returns a 'Promise' that will be resolved with the 'predicate' result once the
                 *  'predicate' returns a true-ish value.
                 */

                vm = myViewlModel;
                ko.applyBindings(vm);
            </script>
    </footer>
</body>
</html>